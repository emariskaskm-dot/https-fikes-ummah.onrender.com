function renderModule() {
            const module = state.selectedModule;
            if (!module) return '';

            return `
                <div class="min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50">
                    <div class="backdrop-blur-xl bg-white/80 border-b border-gray-200/50 sticky top-0 z-50">
                        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div class="flex items-center h-16">
                                <button onclick="goToDashboard()" class="text-blue-600 hover:text-blue-700 font-semibold">
                                    ‚Äπ Dashboard
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                        <div class="backdrop-blur-xl bg-white/70 rounded-3xl p-8 shadow-xl border border-white/50 mb-6">
                            <div class="flex items-start space-x-6 mb-6">
                                <div class="w-20 h-20 rounded-3xl bg-gradient-to-br ${module.color} flex items-center justify-center shadow-lg flex-shrink-0">
                                    <span class="text-4xl">${module.icon}</span>
                                </div>
                                <div class="flex-1">
                                    <h1 class="text-3xl font-bold text-gray-900 mb-2">${module.title}</h1>
                                    <p class="text-gray-600">${module.description}</p>
                                    <div class="flex items-center space-x-4 mt-3 text-sm text-gray-500">
                                        <span>‚è± ${module.duration}</span>
                                        <span>üé• Video Pembelajaran</span>
                                    </div>
                                </div>
                            </div>

                            ${module.content ? `
                                <div class="space-y-6 mb-6">
                                    <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 border border-blue-100">
                                        <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                            <span class="text-2xl mr-2">üìñ</span>
                                            Definisi
                                        </h3>
                                        <p class="text-gray-700 leading-relaxed">${module.content.definisi}</p>
                                    </div>

                                    ${module.content.tujuan ? `
                                        <div class="bg-gradient-to-r from-green-50 to-teal-50 rounded-2xl p-6 border border-green-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üéØ</span>
                                                Tujuan
                                            </h3>
                                            <ul class="space-y-2">
                                                ${module.content.tujuan.map(item => `
                                                    <li class="flex items-start text-gray-700">
                                                        <span class="text-green-500 mr-2 mt-1">‚úì</span>
                                                        <span>${item}</span>
                                                    </li>
                                                `).join('')}
                                            </ul>
                                        </div>
                                    ` : ''}

                                    ${module.content.kategori ? `
                                        <div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-6 border border-purple-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üìÇ</span>
                                                Kategori
                                            </h3>
                                            <ul class="space-y-2">
                                                ${module.content.kategori.map(item => `
                                                    <li class="flex items-start text-gray-700">
                                                        <span class="text-purple-500 mr-2 mt-1">‚Ä¢</span>
                                                        <span>${item}</span>
                                                    </li>
                                                `).join('')}
                                            </ul>
                                        </div>
                                    ` : ''}

                                    ${module.content.lima_strategi_ottawa ? `
                                        <div class="bg-gradient-to-r from-orange-50 to-yellow-50 rounded-2xl p-6 border border-orange-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">‚≠ê</span>
                                                5 Strategi Ottawa
                                            </h3>
                                            <ul class="space-y-2">
                                                ${module.content.lima_strategi_ottawa.map((item, idx) => `
                                                    <li class="flex items-start text-gray-700">
                                                        <span class="text-orange-500 font-bold mr-2 mt-1">${idx + 1}.</span>
                                                        <span>${item}</span>
                                                    </li>
                                                `).join('')}
                                            </ul>
                                        </div>
                                    ` : ''}

                                    ${module.content.prinsip ? `
                                        <div class="bg-gradient-to-r from-indigo-50 to-blue-50 rounded-2xl p-6 border border-indigo-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">‚ö°</span>
                                                Prinsip-Prinsip
                                            </h3>
                                            <ul class="space-y-2">
                                                ${module.content.prinsip.map(item => `
                                                    <li class="flex items-start text-gray-700">
                                                        <span class="text-indigo-500 mr-2 mt-1">‚Üí</span>
                                                        <span>${item}</span>
                                                    </li>
                                                `).join('')}
                                            </ul>
                                        </div>
                                    ` : ''}

                                    ${module.content.tahapan ? `
                                        <div class="bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl p-6 border border-orange-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üìù</span>
                                                Tahapan
                                            </h3>
                                            <ul class="space-y-3">
                                                ${module.content.tahapan.map((item, idx) => `
                                                    <li class="flex items-start text-gray-700">
                                                        <span class="bg-orange-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold mr-3 mt-0.5 flex-shrink-0">${idx + 1}</span>
                                                        <span>${item}</span>
                                                    </li>
                                                `).join('')}
                                            </ul>
                                        </div>
                                    ` : ''}

                                    ${module.content.prinsip_efektif ? `
                                        <div class="bg-gradient-to-r from-pink-50 to-rose-50 rounded-2xl p-6 border border-pink-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üí°</span>
                                                Prinsip Efektif
                                            </h3>
                                            <ul class="space-y-2">
                                                ${module.content.prinsip_efektif.map(item => `
                                                    <li class="flex items-start text-gray-700">
                                                        <span class="text-pink-500 mr-2 mt-1">‚ú¶</span>
                                                        <span>${item}</span>
                                                    </li>
                                                `).join('')}
                                            </ul>
                                        </div>
                                    ` : ''}

                                    ${module.content.teori_utama ? `
                                        <div class="bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-6 border border-indigo-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üß†</span>
                                                Teori Utama
                                            </h3>
                                            <ul class="space-y-2">
                                                ${module.content.teori_utama.map(item => `
                                                    <li class="flex items-start text-gray-700">
                                                        <span class="text-indigo-500 mr-2 mt-1">‚óÜ</span>
                                                        <span>${item}</span>
                                                    </li>
                                                `).join('')}
                                            </ul>
                                        </div>
                                    ` : ''}

                                    ${module.content.strategi ? `
                                        <div class="bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üéØ</span>
                                                Strategi
                                            </h3>
                                            <ul class="space-y-2">
                                                ${module.content.strategi.map(item => `
                                                    <li class="flex items-start text-gray-700">
                                                        <span class="text-green-500 mr-2 mt-1">‚ñ∏</span>
                                                        <span>${item}</span>
                                                    </li>
                                                `).join('')}
                                            </ul>
                                        </div>
                                    ` : ''}

                                    ${module.content.pendekatan ? `
                                        <div class="bg-gradient-to-r from-yellow-50 to-amber-50 rounded-2xl p-6 border border-yellow-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üîß</span>
                                                Pendekatan
                                            </h3>
                                            <ul class="space-y-2">
                                                ${module.content.pendekatan.map(item => `
                                                    <li class="flex items-start text-gray-700">
                                                        <span class="text-yellow-600 mr-2 mt-1">‚òÖ</span>
                                                        <span>${item}</span>
                                                    </li>
                                                `).join('')}
                                            </ul>
                                        </div>
                                    ` : ''}

                                    ${module.content.faktor_pendukung ? `
                                        <div class="bg-gradient-to-r from-cyan-50 to-blue-50 rounded-2xl p-6 border border-cyan-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üåü</span>
                                                Faktor Pendukung
                                            </h3>
                                            <ul class="space-y-2">
                                                ${module.content.faktor_pendukung.map(item => `
                                                    <li class="flex items-start text-gray-700">
                                                        <span class="text-cyan-500 mr-2 mt-1">‚úì</span>
                                                        <span>${item}</span>
                                                    </li>
                                                `).join('')}
                                            </ul>
                                        </div>
                                    ` : ''}

                                    ${module.content.prinsip_cbpr ? `
                                        <div class="bg-gradient-to-r from-teal-50 to-green-50 rounded-2xl p-6 border border-teal-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">ü§ù</span>
                                                Prinsip CBPR
                                            </h3>
                                            <ul class="space-y-2">
                                                ${module.content.prinsip_cbpr.map(item => `
                                                    <li class="flex items-start text-gray-700">
                                                        <span class="text-teal-500 mr-2 mt-1">‚óè</span>
                                                        <span>${item}</span>
                                                    </li>
                                                `).join('')}
                                            </ul>
                                        </div>
                                    ` : ''}

                                    ${module.content.jenis_evaluasi ? `
                                        <div class="bg-gradient-to-r from-red-50 to-orange-50 rounded-2xl p-6 border border-red-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üìã</span>
                                                Jenis Evaluasi
                                            </h3>
                                            <ul class="space-y-2">
                                                ${module.content.jenis_evaluasi.map(item => `
                                                    <li class="flex items-start text-gray-700">
                                                        <span class="text-red-500 mr-2 mt-1">‚ñ∫</span>
                                                        <span>${item}</span>
                                                    </li>
                                                `).join('')}
                                            </ul>
                                        </div>
                                    ` : ''}

                                    ${module.content.metode ? `
                                        <div class="bg-gradient-to-r from-violet-50 to-purple-50 rounded-2xl p-6 border border-violet-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üî¨</span>
                                                ${Array.isArray(module.content.metode) ? 'Metode' : 'Penjelasan'}
                                            </h3>
                                            ${Array.isArray(module.content.metode) ? `
                                                <ul class="space-y-2">
                                                    ${module.content.metode.map(item => `
                                                        <li class="flex items-start text-gray-700">
                                                            <span class="text-violet-500 mr-2 mt-1">‚óâ</span>
                                                            <span>${item}</span>
                                                        </li>
                                                    `).join('')}
                                                </ul>
                                            ` : `
                                                <p class="text-gray-700 leading-relaxed">${module.content.metode}</p>
                                            `}
                                        </div>
                                    ` : ''}

                                    ${module.content.sejarah ? `
                                        <div class="bg-gradient-to-r from-amber-50 to-yellow-50 rounded-2xl p-6 border border-amber-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üìú</span>
                                                Sejarah
                                            </h3>
                                            <p class="text-gray-700 leading-relaxed">${module.content.sejarah}</p>
                                        </div>
                                    ` : ''}

                                    ${module.content.model ? `
                                        <div class="bg-gradient-to-r from-slate-50 to-gray-50 rounded-2xl p-6 border border-slate-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üîç</span>
                                                Model
                                            </h3>
                                            <p class="text-gray-700 leading-relaxed">${module.content.model}</p>
                                        </div>
                                    ` : ''}

                                    ${module.content.model_precede_proceed ? `
                                        <div class="bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl p-6 border border-orange-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üéì</span>
                                                Model PRECEDE-PROCEED
                                            </h3>
                                            <p class="text-gray-700 leading-relaxed">${module.content.model_precede_proceed}</p>
                                        </div>
                                    ` : ''}

                                    ${module.content.komponen_penting ? `
                                        <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">‚öôÔ∏è</span>
                                                Komponen Penting
                                            </h3>
                                            <ul class="space-y-2">
                                                ${module.content.komponen_penting.map(item => `
                                                    <li class="flex items-start text-gray-700">
                                                        <span class="text-blue-500 mr-2 mt-1">‚óà</span>
                                                        <span>${item}</span>
                                                    </li>
                                                `).join('')}
                                            </ul>
                                        </div>
                                    ` : ''}

                                    ${module.content.teknik_persuasi ? `
                                        <div class="bg-gradient-to-r from-rose-50 to-pink-50 rounded-2xl p-6 border border-rose-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üé§</span>
                                                Teknik Persuasi
                                            </h3>
                                            <p class="text-gray-700 leading-relaxed">${module.content.teknik_persuasi}</p>
                                        </div>
                                    ` : ''}

                                    ${module.content.strategi_intervensi ? `
                                        <div class="bg-gradient-to-r from-emerald-50 to-teal-50 rounded-2xl p-6 border border-emerald-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üéØ</span>
                                                Strategi Intervensi
                                            </h3>
                                            <p class="text-gray-700 leading-relaxed">${module.content.strategi_intervensi}</p>
                                        </div>
                                    ` : ''}

                                    ${module.content.keuntungan ? `
                                        <div class="bg-gradient-to-r from-green-50 to-lime-50 rounded-2xl p-6 border border-green-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">‚ú®</span>
                                                Keuntungan
                                            </h3>
                                            <p class="text-gray-700 leading-relaxed">${module.content.keuntungan}</p>
                                        </div>
                                    ` : ''}

                                    ${module.content.implikasi ? `
                                        <div class="bg-gradient-to-r from-purple-50 to-violet-50 rounded-2xl p-6 border border-purple-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üí≠</span>
                                                Implikasi
                                            </h3>
                                            <p class="text-gray-700 leading-relaxed">${module.content.implikasi}</p>
                                        </div>
                                    ` : ''}

                                    ${module.content.tantangan ? `
                                        <div class="bg-gradient-to-r from-red-50 to-pink-50 rounded-2xl p-6 border border-red-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">‚ö†Ô∏è</span>
                                                Tantangan
                                            </h3>
                                            <p class="text-gray-700 leading-relaxed">${module.content.tantangan}</p>
                                        </div>
                                    ` : ''}

                                    ${module.content.tips ? `
                                        <div class="bg-gradient-to-r from-yellow-50 to-orange-50 rounded-2xl p-6 border border-yellow-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üí°</span>
                                                Tips
                                            </h3>
                                            <p class="text-gray-700 leading-relaxed">${module.content.tips}</p>
                                        </div>
                                    ` : ''}

                                    ${module.content.contoh || module.content.contoh_aplikasi ? `
                                        <div class="bg-gradient-to-r from-cyan-50 to-sky-50 rounded-2xl p-6 border border-cyan-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üìå</span>
                                                Contoh Aplikasi
                                            </h3>
                                            <p class="text-gray-700 leading-relaxed">${module.content.contoh || module.content.contoh_aplikasi}</p>
                                        </div>
                                    ` : ''}

                                    ${module.content.indikator ? `
                                        <div class="bg-gradient-to-r from-indigo-50 to-blue-50 rounded-2xl p-6 border border-indigo-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üìà</span>
                                                Indikator
                                            </h3>
                                            <p class="text-gray-700 leading-relaxed">${module.content.indikator}</p>
                                        </div>
                                    ` : ''}

                                    ${module.content.langkah ? `
                                        <div class="bg-gradient-to-r from-teal-50 to-cyan-50 rounded-2xl p-6 border border-teal-100">
                                            <h3 class="text-lg font-bold text-gray-900 mb-3 flex items-center">
                                                <span class="text-2xl mr-2">üîÑ</span>
                                                Langkah-Langkah
                                            </h3>
                                            <p class="text-gray-700 leading-relaxed">${module.content.langkah}</p>
                                        </div>
                                    ` : ''}
                                </div>
                            ` : ''}

                            <div class="backdrop-blur-xl bg-white/70 rounded-3xl p-8 shadow-lg border border-white/50 mb-6">
                                <div class="text-center">
                                    <div class="text-6xl mb-4">üé•</div>
                                    <h4 class="text-lg font-semibold text-gray-900 mb-2">Video Pembelajaran</h4>
                                    <p class="text-sm text-gray-600 mb-6">
                                        Klik tombol di bawah untuk membuka video di YouTube
                                    </p>
                                    <a href="${module.videoUrl}" target="_blank" class="inline-flex items-center space-x-2 bg-gradient-to-r from-red-500 to-red-600 text-white px-8 py-4 rounded-2xl font-semibold hover:shadow-lg transition-all">
                                        <span>‚ñ∂</span>
                                        <span>Buka Video YouTube</span>
                                    </a>
                                </div>
                            </div>

                            <button onclick="completeModule()" class="w-full bg-gradient-to-r from-green-500 to-teal-600 text-white rounded-3xl p-6 shadow-xl hover:scale-105 transition-all font-semibold text-lg">
                                ‚úì Tandai Selesai
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }        const modules = [
            {
                id: 1,
                title: "Pengantar Promosi Kesehatan",
                description: "Memahami konsep dasar, sejarah, dan prinsip-prinsip promosi kesehatan",
                duration: "45 menit",
                videoUrl: "https://www.youtube.com/watch?v=G2quVLcJVBk",
                color: "from-blue-400 to-blue-600",
                icon: "üìö",
                content: {
                    definisi: "Promosi kesehatan adalah proses pemberdayaan masyarakat untuk meningkatkan kontrol terhadap kesehatan mereka sendiri melalui upaya preventif dan promotif.",
                    tujuan: [
                        "Meningkatkan kesadaran kesehatan masyarakat",
                        "Mengubah perilaku hidup menjadi lebih sehat",
                        "Menciptakan lingkungan yang mendukung kesehatan",
                        "Memberdayakan individu dan komunitas"
                    ],
                    sejarah: "Piagam Ottawa (1986) menjadi tonggak penting yang mendefinisikan 5 strategi utama promosi kesehatan: membangun kebijakan publik sehat, menciptakan lingkungan mendukung, memperkuat aksi komunitas, mengembangkan keterampilan personal, dan reorientasi pelayanan kesehatan.",
                    prinsip: [
                        "Melibatkan populasi secara keseluruhan",
                        "Ditujukan pada determinan kesehatan",
                        "Menggunakan berbagai pendekatan",
                        "Partisipasi aktif masyarakat",
                        "Pendekatan holistik dan intersektoral"
                    ]
                }
            },
