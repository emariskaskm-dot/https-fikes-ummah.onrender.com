<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FIKES UMMAH - Kelas Digital Promosi Kesehatan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }
        .backdrop-blur-xl {
            backdrop-filter: blur(20px);
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <script>
        // State Management
        let state = {
            currentPage: 'dashboard',
            selectedModule: null,
            quizAnswers: {},
            quizSubmitted: false,
            completedModules: [],
            userName: 'Mahasiswa'
        };

        // Data
        const modules = [
            {
                id: 1,
                title: "Pengantar Promosi Kesehatan",
                description: "Memahami konsep dasar, sejarah, dan prinsip-prinsip promosi kesehatan",
                duration: "45 menit",
                videoUrl: "https://www.youtube.com/watch?v=G2quVLcJVBk",
                color: "from-blue-400 to-blue-600",
                icon: "üìö"
            },
            {
                id: 2,
                title: "Determinan Kesehatan",
                description: "Mempelajari faktor-faktor yang mempengaruhi status kesehatan masyarakat",
                duration: "50 menit",
                videoUrl: "https://www.youtube.com/watch?v=SXcSjTcrskM",
                color: "from-purple-400 to-purple-600",
                icon: "üß¨"
            },
            {
                id: 3,
                title: "Strategi Promosi Kesehatan",
                description: "Metode dan pendekatan dalam melaksanakan program promosi kesehatan",
                duration: "60 menit",
                videoUrl: "https://www.youtube.com/watch?v=CYS2nxxod_U",
                color: "from-green-400 to-green-600",
                icon: "üéØ"
            },
            {
                id: 4,
                title: "Perencanaan Program",
                description: "Langkah-langkah dalam merancang dan melaksanakan program promosi kesehatan",
                duration: "55 menit",
                videoUrl: "https://www.youtube.com/watch?v=dotCcwUmUD0",
                color: "from-orange-400 to-orange-600",
                icon: "üìã"
            },
            {
                id: 5,
                title: "Komunikasi Kesehatan",
                description: "Teknik dan strategi komunikasi dalam promosi kesehatan",
                duration: "50 menit",
                videoUrl: "https://www.youtube.com/watch?v=xj5X0IgmGqE",
                color: "from-pink-400 to-pink-600",
                icon: "üí¨"
            },
            {
                id: 6,
                title: "Perubahan Perilaku",
                description: "Teori dan model perubahan perilaku dalam promosi kesehatan",
                duration: "55 menit",
                videoUrl: "https://www.youtube.com/watch?v=sE8DzgRwjUo",
                color: "from-indigo-400 to-indigo-600",
                icon: "üîÑ"
            },
            {
                id: 7,
                title: "Promosi Berbasis Komunitas",
                description: "Pendekatan dan strategi promosi kesehatan di tingkat komunitas",
                duration: "60 menit",
                videoUrl: "https://www.youtube.com/watch?v=sgwUanjqeaE",
                color: "from-teal-400 to-teal-600",
                icon: "üë•"
            },
            {
                id: 8,
                title: "Evaluasi Program",
                description: "Metode dan teknik evaluasi dalam promosi kesehatan",
                duration: "50 menit",
                videoUrl: "https://www.youtube.com/watch?v=IFpLwgdu7k0",
                color: "from-red-400 to-red-600",
                icon: "üìä"
            }
        ];

        const quizQuestions = [
            {
                id: 1,
                question: "Menurut WHO, promosi kesehatan adalah proses yang memungkinkan orang untuk...",
                options: [
                    "Mendapatkan obat gratis",
                    "Meningkatkan kontrol atas kesehatan mereka",
                    "Menghindari rumah sakit",
                    "Bekerja di sektor kesehatan"
                ],
                correct: 1
            },
            {
                id: 2,
                question: "Berapa strategi kunci yang diidentifikasi dalam Piagam Ottawa (1986)?",
                options: ["3 strategi", "5 strategi", "7 strategi", "10 strategi"],
                correct: 1
            },
            {
                id: 3,
                question: "Apa yang dimaksud dengan determinan kesehatan?",
                options: [
                    "Hanya faktor genetik",
                    "Faktor-faktor yang mempengaruhi status kesehatan",
                    "Hanya perilaku individu",
                    "Hanya layanan kesehatan"
                ],
                correct: 1
            },
            {
                id: 4,
                question: "Dalam konteks promosi kesehatan, apa tujuan utama advokasi?",
                options: [
                    "Menjual produk kesehatan",
                    "Mendapatkan komitmen politik dan dukungan kebijakan",
                    "Melatih tenaga kesehatan",
                    "Membangun rumah sakit"
                ],
                correct: 1
            },
            {
                id: 5,
                question: "Apa tahap pertama dalam siklus perencanaan program promosi kesehatan?",
                options: [
                    "Evaluasi",
                    "Implementasi",
                    "Assessment kebutuhan",
                    "Penetapan anggaran"
                ],
                correct: 2
            }
        ];

        // Render Functions
        function renderDashboard() {
            const progress = Math.round((state.completedModules.length / modules.length) * 100);
            
            return `
                <div class="min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50">
                    <div class="backdrop-blur-xl bg-white/80 border-b border-gray-200/50 sticky top-0 z-50">
                        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div class="flex items-center justify-between h-16">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg">
                                        <span class="text-white text-xl">üè•</span>
                                    </div>
                                    <div>
                                        <h1 class="text-lg font-semibold text-gray-900">Promosi Kesehatan</h1>
                                        <p class="text-xs text-gray-500">Platform Pembelajaran</p>
                                    </div>
                                </div>
                                
                                <div class="hidden md:block">
                                    <div class="flex items-center space-x-2 bg-gradient-to-r from-green-700 to-green-800 px-6 py-2 rounded-2xl shadow-lg border-2 border-blue-600">
                                        <div class="w-8 h-8 bg-white rounded-full flex items-center justify-center">
                                            <span class="text-lg">üéì</span>
                                        </div>
                                        <div class="text-center">
                                            <div class="text-white font-bold text-sm leading-tight">FIKES-UMMAH</div>
                                            <div class="text-yellow-300 text-xs font-semibold">Fakultas Ilmu Kesehatan</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="h-14 w-14 rounded-xl bg-gradient-to-br from-green-700 to-green-900 shadow-lg flex items-center justify-center border-2 border-blue-600">
                                    <div class="text-center">
                                        <div class="text-white font-bold text-xs leading-tight">UMMAH</div>
                                        <div class="text-yellow-300 text-[6px] font-semibold">ACEH</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                            <div class="backdrop-blur-xl bg-white/70 rounded-3xl p-5 shadow-lg border border-white/50">
                                <div class="text-3xl mb-2">üìö</div>
                                <div class="text-2xl font-bold text-gray-900">${modules.length}</div>
                                <div class="text-sm text-gray-600">Total Modul</div>
                            </div>
                            
                            <div class="backdrop-blur-xl bg-white/70 rounded-3xl p-5 shadow-lg border border-white/50">
                                <div class="text-3xl mb-2">‚úÖ</div>
                                <div class="text-2xl font-bold text-green-600">${state.completedModules.length}</div>
                                <div class="text-sm text-gray-600">Selesai</div>
                            </div>
                            
                            <div class="backdrop-blur-xl bg-white/70 rounded-3xl p-5 shadow-lg border border-white/50">
                                <div class="text-3xl mb-2">üìä</div>
                                <div class="text-2xl font-bold text-purple-600">${progress}%</div>
                                <div class="text-sm text-gray-600">Progress</div>
                            </div>
                            
                            <div class="backdrop-blur-xl bg-white/70 rounded-3xl p-5 shadow-lg border border-white/50">
                                <div class="text-3xl mb-2">üé•</div>
                                <div class="text-2xl font-bold text-orange-600">${modules.length}</div>
                                <div class="text-sm text-gray-600">Video</div>
                            </div>
                        </div>

                        <div class="mb-8">
                            <h2 class="text-2xl font-bold text-gray-900 mb-6 px-2">Modul Pembelajaran</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                ${modules.map(module => `
                                    <div onclick="openModule(${module.id})" class="backdrop-blur-xl bg-white/70 rounded-3xl p-6 shadow-lg border border-white/50 cursor-pointer hover:scale-105 hover:shadow-xl transition-all">
                                        <div class="flex items-start justify-between mb-4">
                                            <div class="w-16 h-16 rounded-2xl bg-gradient-to-br ${module.color} flex items-center justify-center shadow-lg">
                                                <span class="text-3xl">${module.icon}</span>
                                            </div>
                                            ${state.completedModules.includes(module.id) ? '<div class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center shadow-lg text-white">‚úì</div>' : ''}
                                        </div>
                                        <h3 class="text-lg font-bold text-gray-900 mb-2">${module.title}</h3>
                                        <p class="text-sm text-gray-600 mb-4">${module.description}</p>
                                        <div class="flex items-center justify-between text-xs text-gray-500">
                                            <span>‚è± ${module.duration}</span>
                                            <span class="text-orange-600">üé• Video</span>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div onclick="openQuiz()" class="backdrop-blur-xl bg-gradient-to-br from-purple-500 to-blue-600 rounded-3xl p-8 shadow-xl cursor-pointer hover:scale-105 transition-all">
                                <div class="text-white">
                                    <div class="text-4xl mb-3">üèÜ</div>
                                    <h3 class="text-xl font-bold mb-1">Kuis Evaluasi</h3>
                                    <p class="text-sm text-white/80">Uji pemahaman Anda</p>
                                </div>
                            </div>

                            <div onclick="alert('Forum Diskusi akan segera hadir!')" class="backdrop-blur-xl bg-gradient-to-br from-green-500 to-teal-600 rounded-3xl p-8 shadow-xl cursor-pointer hover:scale-105 transition-all">
                                <div class="text-white">
                                    <div class="text-4xl mb-3">üí¨</div>
                                    <h3 class="text-xl font-bold mb-1">Forum Diskusi</h3>
                                    <p class="text-sm text-white/80">Berbagi dengan sesama</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderModule() {
            const module = state.selectedModule;
            if (!module) return '';

            return `
                <div class="min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50">
                    <div class="backdrop-blur-xl bg-white/80 border-b border-gray-200/50 sticky top-0 z-50">
                        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div class="flex items-center h-16">
                                <button onclick="goToDashboard()" class="text-blue-600 hover:text-blue-700 font-semibold">
                                    ‚Äπ Dashboard
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                        <div class="backdrop-blur-xl bg-white/70 rounded-3xl p-8 shadow-xl border border-white/50">
                            <div class="flex items-start space-x-6 mb-6">
                                <div class="w-20 h-20 rounded-3xl bg-gradient-to-br ${module.color} flex items-center justify-center shadow-lg flex-shrink-0">
                                    <span class="text-4xl">${module.icon}</span>
                                </div>
                                <div class="flex-1">
                                    <h1 class="text-3xl font-bold text-gray-900 mb-2">${module.title}</h1>
                                    <p class="text-gray-600">${module.description}</p>
                                </div>
                            </div>

                            <div class="backdrop-blur-xl bg-white/70 rounded-3xl p-8 shadow-lg border border-white/50 mb-6">
                                <div class="text-center">
                                    <div class="text-6xl mb-4">üé•</div>
                                    <h4 class="text-lg font-semibold text-gray-900 mb-2">Video Pembelajaran</h4>
                                    <p class="text-sm text-gray-600 mb-6">
                                        Klik tombol di bawah untuk membuka video di YouTube
                                    </p>
                                    <a href="${module.videoUrl}" target="_blank" class="inline-flex items-center space-x-2 bg-gradient-to-r from-red-500 to-red-600 text-white px-8 py-4 rounded-2xl font-semibold hover:shadow-lg transition-all">
                                        <span>‚ñ∂</span>
                                        <span>Buka Video YouTube</span>
                                    </a>
                                </div>
                            </div>

                            <button onclick="completeModule()" class="w-full bg-gradient-to-r from-green-500 to-teal-600 text-white rounded-3xl p-6 shadow-xl hover:scale-105 transition-all font-semibold text-lg">
                                ‚úì Tandai Selesai
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderQuiz() {
            if (state.quizSubmitted) {
                const score = calculateScore();
                const passed = score >= 60;
                
                return `
                    <div class="min-h-screen bg-gradient-to-br from-gray-50 via-purple-50 to-pink-50">
                        <div class="backdrop-blur-xl bg-white/80 border-b border-gray-200/50 sticky top-0 z-50">
                            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                                <div class="flex items-center h-16">
                                    <button onclick="goToDashboard()" class="text-blue-600 hover:text-blue-700 font-semibold">
                                        ‚Äπ Dashboard
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                            <div class="backdrop-blur-xl bg-gradient-to-br from-purple-500 via-pink-500 to-red-500 rounded-3xl p-12 shadow-xl border border-white/50 mb-8 text-center">
                                <div class="text-7xl mb-4">${passed ? 'üéâ' : 'üìö'}</div>
                                <div class="text-white">
                                    <div class="text-6xl font-bold mb-4">${score.toFixed(0)}%</div>
                                    <h3 class="text-2xl font-bold mb-2">${passed ? 'Selamat! Anda Lulus!' : 'Terus Belajar!'}</h3>
                                    <p class="text-white/90">Anda menjawab ${Object.keys(state.quizAnswers).filter(id => state.quizAnswers[id] === quizQuestions.find(q => q.id == id).correct).length} dari ${quizQuestions.length} pertanyaan dengan benar</p>
                                </div>
                            </div>

                            <button onclick="resetQuiz()" class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-3xl p-6 shadow-xl hover:scale-105 transition-all font-semibold text-lg">
                                Kembali ke Dashboard
                            </button>
                        </div>
                    </div>
                `;
            }

            return `
                <div class="min-h-screen bg-gradient-to-br from-gray-50 via-purple-50 to-pink-50">
                    <div class="backdrop-blur-xl bg-white/80 border-b border-gray-200/50 sticky top-0 z-50">
                        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div class="flex items-center h-16">
                                <button onclick="goToDashboard()" class="text-blue-600 hover:text-blue-700 font-semibold">
                                    ‚Äπ Dashboard
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                        <div class="backdrop-blur-xl bg-white/70 rounded-3xl p-8 shadow-xl border border-white/50">
                            <div class="flex items-center mb-8">
                                <div class="w-16 h-16 rounded-3xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center shadow-lg mr-4">
                                    <span class="text-4xl">üèÜ</span>
                                </div>
                                <div>
                                    <h1 class="text-3xl font-bold text-gray-900">Kuis Evaluasi</h1>
                                    <p class="text-gray-600">Uji pemahaman Anda tentang Promosi Kesehatan</p>
                                </div>
                            </div>

                            ${quizQuestions.map((q, index) => `
                                <div class="mb-8 p-6 bg-gray-50 rounded-xl">
                                    <h3 class="text-lg font-semibold text-gray-800 mb-4">${index + 1}. ${q.question}</h3>
                                    <div class="space-y-3">
                                        ${q.options.map((option, optIndex) => `
                                            <label class="flex items-center p-4 bg-white rounded-lg cursor-pointer hover:bg-blue-50 transition-all border-2 border-gray-200 hover:border-blue-300">
                                                <input type="radio" name="question-${q.id}" value="${optIndex}" onchange="answerQuestion(${q.id}, ${optIndex})" class="mr-3 w-5 h-5">
                                                <span class="text-gray-700">${option}</span>
                                            </label>
                                        `).join('')}
                                    </div>
                                </div>
                            `).join('')}

                            <button onclick="submitQuiz()" class="w-full bg-gradient-to-r from-purple-500 to-blue-500 text-white px-8 py-4 rounded-xl font-semibold text-lg hover:shadow-lg transition-all">
                                Submit Kuis
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // Actions
        function openModule(moduleId) {
            state.selectedModule = modules.find(m => m.id === moduleId);
            state.currentPage = 'module';
            render();
        }

        function completeModule() {
            if (state.selectedModule && !state.completedModules.includes(state.selectedModule.id)) {
                state.completedModules.push(state.selectedModule.id);
            }
            goToDashboard();
        }

        function goToDashboard() {
            state.currentPage = 'dashboard';
            state.selectedModule = null;
            render();
        }

        function openQuiz() {
            state.currentPage = 'quiz';
            state.quizAnswers = {};
            state.quizSubmitted = false;
            render();
        }

        function answerQuestion(questionId, answerIndex) {
            state.quizAnswers[questionId] = answerIndex;
        }

        function submitQuiz() {
            if (Object.keys(state.quizAnswers).length !== quizQuestions.length) {
                alert('Mohon jawab semua pertanyaan!');
                return;
            }
            state.quizSubmitted = true;
            render();
        }

        function resetQuiz() {
            state.quizAnswers = {};
            state.quizSubmitted = false;
            goToDashboard();
        }

        function calculateScore() {
            let correct = 0;
            quizQuestions.forEach(q => {
                if (state.quizAnswers[q.id] === q.correct) correct++;
            });
            return (correct / quizQuestions.length) * 100;
        }

        // Main Render
        function render() {
            const app = document.getElementById('app');
            
            switch(state.currentPage) {
                case 'dashboard':
                    app.innerHTML = renderDashboard();
                    break;
                case 'module':
                    app.innerHTML = renderModule();
                    break;
                case 'quiz':
                    app.innerHTML = renderQuiz();
                    break;
                default:
                    app.innerHTML = renderDashboard();
            }
        }

        // Initialize
        render();
    </script>
</body>
</html>
